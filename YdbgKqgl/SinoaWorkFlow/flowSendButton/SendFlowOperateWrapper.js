// @flow
import SendFlowOperate from './SendFlowOperate';
import { connect } from 'react-redux';
// 收到的是选择流程
const mockData = {
  flag: 'selectdept',
  userid: '1286530844796',
  deptid: '001',
  filetypeid: 'JUSW',
  recordid: '160122151722222',
  title: '关于潘石林、黄劲松职务任免的通知',
  subflag: '1',
  userflag: '1',
  sql: '',
  sqlone: '',
  sqltwo: '',
  idea: '^#^',
  sign: 'FALSE',
  wfleveid: 'JUSW_001',
  wfoperateid: '',
  selectuserlist: '',
  selectdeptlist: '',
  sendsms: '',
  freeflag: '1286530844796',
  breakflag: '',
  ishadata: 'true',
  exception: '',
  wfoperatename: '',
  username: '',
  settime: '',
  remind: '',
  para: '0',
  userlist: '',
  examinetag: '',
  tableandidname: '',
  disflag: '',
  remindtype: '',
  startflag: '0',
  transferflag: '0',
  insid: '',
  selectGroup: '',
  oprationPage: 'selectOperationJSP',
  selectRoleMap: null,
  wfoperationMap: {
    JUSWOP_003: '局领导',
    JUSWOP_022: '返回秘书',
    JUSWOP_001: '办公室主任',
    JUSWOP_012: '处文秘',
  },
  noSelectOperationMap: null,
  deptUserMap: null,
  more: false,
  path:
    'file:/opt/sjoa/apache-tomcat-7.0.39-ydbg/webapps/ROOT/WEB-INF/classes/',
  REQUEST_TOKEN: '73d16adf7d5da3fb84f3f01394bd4f77',
};
const mockDeptUserData = {
  flag: 'flowinstance',
  userid: '1286530844796',
  deptid: '001',
  filetypeid: 'JUSW',
  recordid: '170711094439132',
  title: '测试的文啊',
  subflag: '1',
  userflag: '1',
  sql: '',
  sqlone: '',
  sqltwo: '',
  idea: '^#^',
  sign: 'FALSE',
  wfleveid: 'JUSW_001',
  wfoperateid: 'JUSWOP_003',
  selectuserlist: '',
  selectdeptlist: '',
  sendsms: '',
  freeflag: '1286530844796',
  breakflag: '',
  ishadata: 'true',
  exception: '',
  wfoperatename: '局领导',
  username: '',
  settime: '',
  remind: '',
  para: '0',
  userlist:
    'JUSWOP_003=|$|001*101008113102853|$|001*101008113103869|$|001*101123164951432|$|001*101008113101831|$|001*101008113101825|$|001*1286530844796|$|001*1482292431515|$|001*1479716125959|$|001*101123144219690|$|',
  examinetag: '',
  tableandidname: '',
  disflag: '',
  remindtype: '',
  startflag: '0',
  transferflag: '0',
  insid: '',
  selectGroup: '',
  oprationPage: 'selectDeptUserJSP',
  selectRoleMap: null,
  wfoperationMap: null,
  noSelectOperationMap: null,
  deptUserMap: {
    '001*101008113101831': '广东省气象局 => 梁建茵',
    '001*1479716125959': '广东省气象局 => 孙仪',
    '001*1482292431515': '广东省气象局 => 杨卫东',
    '001*101008113101825': '广东省气象局 => 林献民',
    '001*1286530844796': '广东省气象局 => 广东局文秘',
    '001*101123164951432': '广东省气象局 => 刘锦銮',
    '001*101123144219690': '广东省气象局 => 林建华',
    '001*101008113103869': '广东省气象局 => 刘作挺',
    '001*101008113102853': '广东省气象局 => 庄旭东',
  },
  more: true,
  path:
    'file:/opt/sjoa/apache-tomcat-7.0.39-ydbg/webapps/ROOT/WEB-INF/classes/',
  REQUEST_TOKEN: '1828bf127652bc08128e1d661bc2ea81',
};
const mockSuccessData = {
  oprationPage: 'workFlowSucess',
  title: '发送成功!',
  success: true,
  info: '接收人:梁建茵/广东省气象局<br>节点信息:局文秘-->局领导',
};
const mockRoleData = {
  flag: 'selectoption',
  userid: '101123165009976',
  deptid: '001025',
  filetypeid: 'CHUCC',
  recordid: 'ff8080815dac2175015dc746b00e0b5f',
  title: '张毅于2017-08-09发送出的出差申请',
  subflag: '1',
  userflag: '1',
  sql: '',
  sqlone: '',
  sqltwo: '',
  idea: '',
  sign: 'FALSE',
  wfleveid: '',
  wfoperateid: '',
  selectuserlist: '',
  selectdeptlist: '',
  sendsms: '',
  freeflag: '101123165009976',
  breakflag: '',
  ishadata: 'false',
  exception: '',
  wfoperatename: '',
  username: '',
  settime: '',
  remind: '',
  para: '0',
  userlist: '',
  examinetag: '',
  tableandidname: '',
  disflag: '',
  remindtype: '',
  startflag: '0',
  transferflag: '0',
  insid: '',
  selectGroup: '',
  oprationPage: 'selectRoleJSP',
  selectRoleMap: {
    CHUCC_007: '申请人',
    CHUCC_003: '文秘',
  },
  wfoperationMap: null,
  noSelectOperationMap: null,
  deptUserMap: null,
  more: false,
  path:
    'file:/opt/sjoa/apache-tomcat-7.0.39-ydbg/webapps/ROOT/WEB-INF/classes/',
  REQUEST_TOKEN: '89e167a3a26febdd4f39ba87470d0154',
};
const mapDispatchToProps = dispatch => ({
  dispatch,
});
const mapStateToProps = (state, props) => {
  const workflowSendStatusState =
    state &&
    state.workflow &&
    state.workflow[`workflowSendStatus_${props.flowType}_${props.recordId}`];
  return {
    sendStatus: workflowSendStatusState && workflowSendStatusState.sendStatus,
    requestParam:
      workflowSendStatusState && workflowSendStatusState.requestParam,
    // workflowResponse: workflowSendStatusState && workflowSendStatusState.data, // 这是返回值
    // workflowResponse: { info: '当前用户不具有任何启动角色且也没配置无角色启动节点!' },
    workflowResponse: workflowSendStatusState && workflowSendStatusState.data,
  };
};

const SendFlowOperateWrapper = connect(mapStateToProps, mapDispatchToProps)(
  SendFlowOperate,
);

export default SendFlowOperateWrapper;
